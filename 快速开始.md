# ğŸ€„ å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ - å¿«é€Ÿæ‰“åŒ…æŒ‡å—

## ğŸ¯ ä¸€é”®æ‰“åŒ…ï¼ˆæ¨èï¼‰

### Windowsç”¨æˆ·
1. **åŒå‡»è¿è¡Œ** `build_windows.bat`
2. ç­‰å¾…æ‰“åŒ…å®Œæˆ
3. åœ¨ `dist/` æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° `å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ.exe`

### macOSç”¨æˆ·
1. **ç»ˆç«¯è¿è¡Œ** `python build_scripts.py`
2. ç­‰å¾…æ‰“åŒ…å®Œæˆ
3. åœ¨ `dist/macos/` æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°åº”ç”¨ç¨‹åº

## ğŸ“‹ è¯¦ç»†æ­¥éª¤

### ç¯å¢ƒå‡†å¤‡
```bash
# å®‰è£…æ‰“åŒ…å·¥å…·
pip install pyinstaller>=5.0

# å¯é€‰ï¼šå›¾å½¢åŒ–å·¥å…·
pip install auto-py-to-exe
```

### Windowsæ‰“åŒ…
```bash
# æ–¹æ³•1ï¼šä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶ï¼ˆæ¨èï¼‰
build_windows.bat

# æ–¹æ³•2ï¼šä½¿ç”¨Pythonè„šæœ¬
python build_windows_simple.py

# æ–¹æ³•3ï¼šæ‰‹åŠ¨å‘½ä»¤
pyinstaller --onefile --windowed --name="å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ" majiang_macos_compatible.py
```

### macOSæ‰“åŒ…
```bash
# æ–¹æ³•1ï¼šè‡ªåŠ¨åŒ–è„šæœ¬ï¼ˆæ¨èï¼‰
python build_scripts.py

# æ–¹æ³•2ï¼šæ‰‹åŠ¨å‘½ä»¤
pyinstaller --onedir --windowed --name="å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ" majiang_macos_compatible.py
```

## ğŸ“ è¾“å‡ºç»“æœ

### Windows
- **æ–‡ä»¶ä½ç½®**: `dist/å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ.exe`
- **æ–‡ä»¶å¤§å°**: çº¦15-25MB
- **è¿è¡Œæ–¹å¼**: åŒå‡»exeæ–‡ä»¶

### macOS
- **åº”ç”¨åŒ…**: `dist/macos/å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ.app`
- **ç›®å½•ç‰ˆ**: `dist/macos/å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ/`
- **è¿è¡Œæ–¹å¼**: åŒå‡».appæ–‡ä»¶æˆ–ç›®å½•ä¸­çš„å¯æ‰§è¡Œæ–‡ä»¶

## ğŸ› å¸¸è§é—®é¢˜

### 1. PyInstalleræœªå®‰è£…
```bash
pip install pyinstaller>=5.0
```

### 2. macOSå®‰å…¨è­¦å‘Š
```bash
# ä¸´æ—¶è§£å†³
sudo xattr -rd com.apple.quarantine /path/to/app

# æˆ–åœ¨ç³»ç»Ÿåå¥½è®¾ç½®ä¸­å…è®¸
```

### 3. Windows Defenderè¯¯æŠ¥
- åœ¨Windows Defenderä¸­æ·»åŠ æ’é™¤é¡¹
- é€‰æ‹©"ä»è¦è¿è¡Œ"

### 4. æ–‡ä»¶è¿‡å¤§
```bash
# ä½¿ç”¨ç›®å½•æ‰“åŒ…ï¼ˆå¯åŠ¨æ›´å¿«ï¼‰
pyinstaller --onedir --windowed majiang_macos_compatible.py
```

## ğŸš€ é«˜çº§é€‰é¡¹

### æ·»åŠ å›¾æ ‡
```bash
# Windows
pyinstaller --icon=icon.ico --onefile --windowed majiang_macos_compatible.py

# macOS
pyinstaller --icon=icon.icns --onedir --windowed majiang_macos_compatible.py
```

### ä¼˜åŒ–æ–‡ä»¶å¤§å°
```bash
pyinstaller --onefile --windowed --strip --upx-dir=/path/to/upx majiang_macos_compatible.py
```

## ğŸ“¦ æ–‡ä»¶æ¸…å•

æ‰“åŒ…å®Œæˆåï¼Œæ‚¨å°†å¾—åˆ°ï¼š

```
é¡¹ç›®æ–‡ä»¶å¤¹/
â”œâ”€â”€ majiang_macos_compatible.py    # ä¸»ç¨‹åº
â”œâ”€â”€ build_scripts.py               # è‡ªåŠ¨æ‰“åŒ…è„šæœ¬
â”œâ”€â”€ build_windows.bat              # Windowsä¸€é”®æ‰“åŒ…
â”œâ”€â”€ build_windows_simple.py        # Windowsç®€åŒ–è„šæœ¬
â”œâ”€â”€ requirements.txt               # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ æ‰“åŒ…è¯´æ˜.md                    # è¯¦ç»†è¯´æ˜
â””â”€â”€ dist/                          # è¾“å‡ºç›®å½•
    â”œâ”€â”€ windows/
    â”‚   â””â”€â”€ å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ.exe    # Windowså¯æ‰§è¡Œæ–‡ä»¶
    â””â”€â”€ macos/
        â”œâ”€â”€ å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ/       # macOSç›®å½•ç‰ˆ
        â””â”€â”€ å››å·éº»å°†ç§¯åˆ†ç³»ç»Ÿ.app    # macOSåº”ç”¨åŒ…
```

## ğŸ‰ å®Œæˆï¼

ç°åœ¨æ‚¨å¯ä»¥ï¼š
1. **åˆ†å‘exe/appæ–‡ä»¶**ç»™å…¶ä»–ç”¨æˆ·
2. **æ— éœ€å®‰è£…Python**å³å¯è¿è¡Œ
3. **è·¨å¹³å°ä½¿ç”¨**ï¼ˆWindows/macOSï¼‰
4. **ä¿æŒæ‰€æœ‰åŠŸèƒ½**å®Œæ•´

---

**ğŸ’¡ æç¤º**: æ¨èä½¿ç”¨ä¸€é”®æ‰“åŒ…è„šæœ¬ï¼Œå®ƒä¼šè‡ªåŠ¨å¤„ç†æ‰€æœ‰ç»†èŠ‚ï¼ 